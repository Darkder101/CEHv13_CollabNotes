# Smurf Attack

## Attack Classification
- **Category**: Volumetric Attack (Amplification + Reflection)
- **OSI Layer**: Layer 3 (Network)
- **Protocol**: ICMP + IP Broadcast
- **Type**: Distributed Reflection DoS (DRDoS)

## Attack Mechanism
Exploits **IP broadcast addresses** and **ICMP ping** to amplify traffic. Attacker sends ICMP requests to broadcast address with **spoofed victim IP**, causing all hosts to reply to victim.

### How it Works:
1. **IP Spoofing**: Attacker spoofs victim's IP address
2. **Broadcast Ping**: Send ICMP Echo Request to network broadcast address
3. **Mass Replies**: All hosts on network reply to victim
4. **Amplification**: 1 request generates N replies (N = hosts on network)

## Key Characteristics
- **Amplification Factor**: 1:N (where N = hosts on broadcast network)
- **Reflection**: Victim appears to be the source
- **Broadcast Dependency**: Requires networks that respond to broadcast pings
- **Spoofed Source**: Attacker's real IP is hidden

## Exam Focus Points

### Attack Components:
- **Victim**: Target of the attack
- **Amplifier**: Broadcast network that responds
- **Reflector**: Individual hosts sending replies
- **Attacker**: Sends spoofed broadcast pings

### Common Exam Questions:
- **Q**: What makes a Smurf attack amplified?
- **A**: One broadcast ping generates multiple replies
- **Q**: Why is IP spoofing essential in Smurf attacks?
- **A**: To redirect replies to the victim instead of attacker
- **Q**: What type of address is targeted in Smurf attacks?
- **A**: Network broadcast address (e.g., 192.168.1.255)

### Network Requirements:
- **Broadcast-enabled networks**
- **ICMP-responsive hosts**
- **No ingress filtering** (allows spoofed packets)

## Attack Variations
- **Fraggle Attack**: UDP version of Smurf (port 7/19)
- **Papasmurf**: Enhanced Smurf with multiple amplifiers
- **Modern Smurf**: Using other broadcast protocols

## Protection Methods
- **Disable Broadcast Ping**: Configure routers to ignore broadcast ICMP
- **Ingress Filtering**: Block spoofed source addresses
- **Directed Broadcast Filtering**: Disable IP directed broadcasts
- **Rate Limiting**: Limit ICMP responses per source

### Router Configuration:
```
no ip directed-broadcast
access-list 101 deny icmp any any echo
```

## Attack Example
```bash
# Attacker sends this:
ping -s 1024 192.168.1.255 (with victim's spoofed IP)

# Network broadcasts to all hosts
# All hosts reply to victim: 192.168.1.100
```

## Modern Status
- **Largely Mitigated**: Most networks disable broadcast responses
- **Still Relevant**: Understanding amplification concepts
- **Exam Important**: Classic example of reflection/amplification
- **Similar Attacks**: DNS, NTP amplification use same principles

## Impact Calculation
**Amplification = Broadcast Network Size**
- /24 network: Up to 254x amplification
- /16 network: Up to 65,534x amplification
